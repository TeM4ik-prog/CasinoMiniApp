generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = "file:./dev.db"
}

model User {
  id         String   @id @default(uuid())
  telegramId String   @unique
  lastName   String
  firstName  String
  photoUrl   String
  authDate   DateTime
}

model Gift {
  id       String @id @default(uuid())
  giftId   Int
  giftNum  Int
  name     String
  price    Float
  model    String
  symbol   String
  backdrop String

  createdAt         DateTime         @default(now())
  updatedAt         DateTime         @updatedAt
  GiftsDataUpdate   GiftsDataUpdate? @relation(fields: [giftsDataUpdateId], references: [id], onUpdate: Cascade)
  giftsDataUpdateId String?
}

model GiftsDataUpdate {
  id    String @id @default(uuid())
  Gifts Gift[]

  profit    Float
  sellPrice Float

  createdAt             DateTime             @default(now())
  updatedAt             DateTime             @default(now())
  PackGiftsDataUpdate   PackGiftsDataUpdate? @relation(fields: [packGiftsDataUpdateId], references: [id], onUpdate: Cascade)
  packGiftsDataUpdateId String?
}

model PackGiftsDataUpdate {
  id              String            @id @default(uuid())
  GiftsDataUpdate GiftsDataUpdate[]
  updatedAt       DateTime          @default(now())
}

model minProfit {
  id    String @id @default("singleton") @map("id")
  value Float  @default(0.5)
}
